<h2 class="sub-header">投票设置</h2>
<div class="row" id="vote">
    <div class="col-md-4" ng-init="get_department()">
        <form ng-submit="begin_vote()">
            <div>
                <div class="form-group">
                    <label for="department">学部:</label>
                    <select id="department" class="form-control" ng-model="voteData.department"
                            ng-disabled="elec_begin"
                            ng-options="item for item in departmentList" required>
                    </select>
                </div>

                <div class="form-group">
                    <label for="group">组:</label>
                    <select id="group" class="form-control" ng-model="voteData.group" ng-disabled="elec_begin"
                            ng-options="item for item in groupList">
                        <option></option>
                    </select>
                </div>

                <div class="form-group">
                    第 <u>{{voteData.round}}</u> 轮第 <u>{{voteData.times}}</u> 次投票
                </div>

                <div class="form-group">
                    <label>选举类型：</label>
                    <label class="radio-inline">
                        <input type="radio" name="vote_type" ng-model="voteData.vote_type" value="正式" required
                               ng-disabled="voteData.vote_begin">
                        正式
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="vote_type" ng-model="voteData.vote_type" value="预选"
                               ng-disabled="voteData.vote_begin"> 预选
                    </label>
                </div>

                <div class="form-group">
                    <label>选票类型：</label>
                    <label class="radio-inline">
                        <input type="radio" name="ballot_type" ng-model="voteData.ballot_type" value="记分"
                               required ng-disabled="voteData.vote_begin">
                        记分(A、B、C)
                    </label>
                    <label class="radio-inline">
                        <input type="radio" name="ballot_type" ng-model="voteData.ballot_type" value="表决"
                               ng-disabled="voteData.vote_begin"> 表决(√，×)
                    </label>
                </div>

                <div class="form-group">
                    <label for="advance_num">晋级人数：</label>
                    <input id="advance_num" type="number" min="1" max="100" ng-model="voteData.advance_num"
                           ng-disabled="voteData.vote_begin" required>
                </div>

                <div class="form-group">
                    <label for="voter_num">投票人数：</label>
                    <input id="voter_num" type="number" min="1" max="100" ng-model="voteData.voter_num"
                           ng-disabled="voteData.vote_begin" required>
                </div>

                <button type="submit" class="btn btn-primary btn-lg" ng-disabled="voteData.vote_begin">
                    开启投票
                </button>
            </div>
        </form>
        <div id="end">
            <button class="btn btn-danger btn-lg" ng-click="end_election()" ng-if="round_end&&elec_begin">
                结束选举
            </button>
            <button class="btn btn-warning btn-lg" ng-click="end_round()"
                    ng-if="elec_begin && !voteData.vote_begin && !round_end">
                结束本轮投票
            </button>
        </div>
    </div>
    <div class="col-md-5">
        <div id="container" class="center-block" ng-show="voteData.vote_begin">
            <h3 class="text-center">投票已进行</h3>
            <div id="timer"></div>
            <button class="btn btn-success center-block" ng-click="end_vote()">结束本次投票</button>
        </div>
    </div>
    <div class="col-md-2 col-md-offset-1">
        <div class="panel panel-primary">
            <div class="panel-heading text-center">本轮投票结果</div>
            <div class="panel-body">
                <div class="text-center" ng-show="timesList.length==0">
                    暂无结果
                </div>
                <div class="list-group">
                    <a class="list-group-item" ng-repeat="item in timesList" href="" ng-click="show_modal(item)">
                        第{{item}}次投票结果
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
